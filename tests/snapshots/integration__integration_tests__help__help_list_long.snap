---
source: tests/integration_tests/help.rs
info:
  program: wt
  args:
    - list
    - "--help"
  env:
    CLICOLOR_FORCE: "1"
    COLUMNS: "150"
    GIT_EDITOR: ""
    SOURCE_DATE_EPOCH: "1735776000"
    WORKTRUNK_CONFIG_PATH: /nonexistent/test/config.toml
---
success: true
exit_code: 0
----- stdout -----

----- stderr -----
wt list - List worktrees and optionally branches
Usage: [1m[36mwt list[0m [36m[OPTIONS][0m
       [1m[36mwt list[0m [36m<COMMAND>[0m

[1m[32mCommands:[0m
  [1m[36mstatusline[0m  Single-line status for shell prompts

[1m[32mOptions:[0m
      [1m[36m--format[0m[36m [0m[36m<FORMAT>[0m
          Output format (table, json)
          
          [default: table]

      [1m[36m--branches[0m
          Include branches without worktrees

      [1m[36m--remotes[0m
          Include remote branches

      [1m[36m--full[0m
          Show CI, conflicts, diffs

      [1m[36m--progressive[0m
          Show fast info immediately, update with slow info[0m
          [0m
          Displays local data (branches, paths, status) first, then updates with remote data (CI, upstream) as it arrives. Auto-enabled for TTY.[0m

  [1m[36m-h[0m, [1m[36m--help[0m
          Print help (see a summary with '-h')

[1m[32mGlobal Options:[0m
  [1m[36m-C[0m[36m [0m[36m<path>[0m
          Working directory for this command

      [1m[36m--config[0m[36m [0m[36m<path>[0m
          User config file path

  [1m[36m-v[0m, [1m[36m--verbose[0m
          Show commands and debug info

Show all worktrees with their status. The table includes uncommitted changes, divergence from main and remote, and optional CI status.

[32mExamples[0m

List all worktrees:

  [2mwt list[0m

Include CI status and conflict detection:

  [2mwt list --full[0m

Include branches that don't have worktrees:

  [2mwt list --branches[0m

Output as JSON for scripting:

  [2mwt list --format=json[0m

[32mStatus Symbols[0m

Symbols appear in the Status column in this order:

[1mWorking tree state:[0m
- [2m+[0m ‚Äî Staged files
- [2m![0m ‚Äî Modified files (unstaged)
- [2m?[0m ‚Äî Untracked files
- [2m‚úñ[0m ‚Äî Merge conflicts
- [2m‚Üª[0m ‚Äî Rebase in progress
- [2m‚ãà[0m ‚Äî Merge in progress

[1mBranch state:[0m
- [2m‚äò[0m ‚Äî Would conflict if merged to main ([2m--full[0m only)
- [2m‚â°[0m ‚Äî Matches main (identical contents)
- [2m_[0m ‚Äî No commits (empty branch)

[1mDivergence from main:[0m
- [2m‚Üë[0m ‚Äî Ahead of main
- [2m‚Üì[0m ‚Äî Behind main
- [2m‚Üï[0m ‚Äî Diverged from main

[1mRemote tracking:[0m
- [2m‚á°[0m ‚Äî Ahead of remote
- [2m‚á£[0m ‚Äî Behind remote
- [2m‚áÖ[0m ‚Äî Diverged from remote

[1mOther:[0m
- [2m‚éá[0m ‚Äî Branch without worktree
- [2m‚å´[0m ‚Äî Prunable (directory missing)
- [2m‚ä†[0m ‚Äî Locked worktree

Rows are dimmed when the branch has no marginal contribution ([2m‚â°[0m matches main or [2m_[0m no commits).

[32mColumns[0m

| Column | Shows |
|--------|-------|
| Branch | Branch name |
| Status | Compact symbols (see above) |
| HEAD¬± | Uncommitted changes: +added -deleted lines |
| main‚Üï | Commits ahead/behind main |
| main‚Ä¶¬± | Line diffs in commits ahead of main ([2m--full[0m) |
| Path | Worktree directory |
| Remote‚áÖ | Commits ahead/behind tracking branch |
| CI | Pipeline status ([2m--full[0m) |
| Commit | Short hash (8 chars) |
| Age | Time since last commit |
| Message | Last commit message (truncated) |

The CI column shows GitHub/GitLab pipeline status:
- [2m‚óè[0m green ‚Äî All checks passed
- [2m‚óè[0m blue ‚Äî Checks running
- [2m‚óè[0m red ‚Äî Checks failed
- [2m‚óè[0m yellow ‚Äî Merge conflicts with base
- [2m‚óè[0m gray ‚Äî No checks configured
- blank ‚Äî No PR/MR found
- dimmed ‚Äî Stale (unpushed local changes)

[32mJSON Output[0m

Query structured data with [2m--format=json[0m:

  [2m# Worktrees with conflicts[0m
  [2mwt list --format=json | jq '.[] | select(.status.branch_state == "Conflicts")'[0m
  [2m[0m
  [2m# Uncommitted changes[0m
  [2mwt list --format=json | jq '.[] | select(.status.working_tree.modified)'[0m
  [2m[0m
  [2m# Current worktree[0m
  [2mwt list --format=json | jq '.[] | select(.is_current == true)'[0m
  [2m[0m
  [2m# Branches ahead of main[0m
  [2mwt list --format=json | jq '.[] | select(.status.main_divergence == "Ahead")'[0m

[1mStatus fields:[0m
- [2mworking_tree[0m: [2m{untracked, modified, staged, renamed, deleted}[0m
- [2mbranch_state[0m: [2m""[0m | [2m"Conflicts"[0m | [2m"MergeTreeConflicts"[0m | [2m"MatchesMain"[0m | [2m"NoCommits"[0m
- [2mgit_operation[0m: [2m""[0m | [2m"Rebase"[0m | [2m"Merge"[0m
- [2mmain_divergence[0m: [2m""[0m | [2m"Ahead"[0m | [2m"Behind"[0m | [2m"Diverged"[0m
- [2mupstream_divergence[0m: [2m""[0m | [2m"Ahead"[0m | [2m"Behind"[0m | [2m"Diverged"[0m

[1mPosition fields:[0m
- [2mis_main[0m ‚Äî Main worktree
- [2mis_current[0m ‚Äî Current directory
- [2mis_previous[0m ‚Äî Previous worktree from [wt switch](/switch/)

[32mSee Also[0m

- [wt select](/select/) ‚Äî Interactive worktree picker with live preview
