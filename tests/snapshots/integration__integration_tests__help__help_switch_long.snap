---
source: tests/integration_tests/help.rs
info:
  program: wt
  args:
    - switch
    - "--help"
  env:
    CLICOLOR_FORCE: "1"
    COLUMNS: "150"
    GIT_EDITOR: ""
    SOURCE_DATE_EPOCH: "1735776000"
    WORKTRUNK_CONFIG_PATH: /nonexistent/test/config.toml
---
success: true
exit_code: 0
----- stdout -----

----- stderr -----
wt switch - Switch to a worktree
Usage: [1m[36mwt switch[0m [36m[OPTIONS][0m [36m<BRANCH>[0m

[1m[32mArguments:[0m
  [36m<BRANCH>[0m
          Branch or worktree name[0m
          [0m
          Shortcuts: '^' (main), '-' (previous), '@' (current)[0m

[1m[32mOptions:[0m
  [1m[36m-c[0m, [1m[36m--create[0m
          Create a new branch

  [1m[36m-b[0m, [1m[36m--base[0m[36m [0m[36m<BASE>[0m
          Base branch[0m
          [0m
          Defaults to default branch.[0m

  [1m[36m-x[0m, [1m[36m--execute[0m[36m [0m[36m<EXECUTE>[0m
          Command to run after switch

  [1m[36m-f[0m, [1m[36m--force[0m
          Skip approval prompts

      [1m[36m--no-verify[0m
          Skip all project hooks

  [1m[36m-h[0m, [1m[36m--help[0m
          Print help (see a summary with '-h')

[1m[32mGlobal Options:[0m
  [1m[36m-C[0m[36m [0m[36m<path>[0m
          Working directory for this command

      [1m[36m--config[0m[36m [0m[36m<path>[0m
          User config file path

  [1m[36m-v[0m, [1m[36m--verbose[0m
          Show commands and debug info

Navigate between worktrees or create new ones. Switching to an existing worktree is just a directory change. With [2m--create[0m, a new branch and worktree are created, and hooks run.

[32mExamples[0m

Switch to an existing worktree:

  [2mwt switch feature-auth[0m

Create a new worktree for a fresh branch:

  [2mwt switch --create new-feature[0m

Create from a specific base branch:

  [2mwt switch --create hotfix --base production[0m

Switch to the previous worktree (like [2mcd -[0m):

  [2mwt switch -[0m

[32mCreating Worktrees[0m

The [2m--create[0m flag (or [2m-c[0m) creates a new branch from the default branch (or [2m--base[0m), sets up a worktree at [2m../{repo}.{branch}[0m, runs [post-create hooks](/hooks/#post-create) synchronously, then spawns [post-start hooks](/hooks/#post-start) in the background before switching to the new directory.

  [2m# Create from main (default)[0m
  [2mwt switch --create api-refactor[0m
  [2m[0m
  [2m# Create from a specific branch[0m
  [2mwt switch --create emergency-fix --base release-2.0[0m
  [2m[0m
  [2m# Create and open in editor[0m
  [2mwt switch --create docs --execute "code ."[0m
  [2m[0m
  [2m# Skip all hooks[0m
  [2mwt switch --create temp --no-verify[0m

[32mShortcuts[0m

Special symbols for common targets:

| Shortcut | Meaning |
|----------|---------|
| [2m-[0m | Previous worktree (like [2mcd -[0m) |
| [2m@[0m | Current branch's worktree |
| [2m^[0m | Default branch (main/master) |

  [2mwt switch -                              # Go back to previous worktree[0m
  [2mwt switch ^                              # Switch to main worktree[0m
  [2mwt switch --create bugfix --base=@       # Branch from current HEAD[0m

[32mHooks[0m

When creating a worktree ([2m--create[0m), hooks run in this order:

1. [1mpost-create[0m â€” Blocking, sequential. Typically: [2mnpm install[0m, [2mcargo build[0m
2. [1mpost-start[0m â€” Background, parallel. Typically: dev servers, file watchers

See [Hooks](/hooks/) for configuration details.

[32mHow Arguments Are Resolved[0m

Arguments resolve using [1mpath-first lookup[0m:

1. Compute the expected path for the argument (using the configured path template)
2. If a worktree exists at that path, switch to it (regardless of what branch it's on)
3. Otherwise, treat the argument as a branch name

[1mExample[0m: If [2mrepo.foo/[0m exists but is on branch [2mbar[0m:

- [2mwt switch foo[0m switches to [2mrepo.foo/[0m (the [2mbar[0m branch worktree)
- [2mwt switch bar[0m also works (falls back to branch lookup)
